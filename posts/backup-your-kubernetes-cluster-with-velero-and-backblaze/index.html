<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Backup Your Kubernetes Cluster with Velero and Backblaze | Brian Lachniet</title>
<meta name=keywords content="backblaze,backup,kubernetes,velero"><meta name=description content="After finalizing backups from my NAS and household computers to Backblaze&rsquo;s B2 Cloud Storage, I decided it was time to do the same for my Kubernetes cluster. I use the built-in backup utility on my NAS and Restic on my household computers. After a little research, I found that Velero is a solid option for backing up Kubernetes clusters. It supports storage providers that have an AWS S3-compatible API, which includes B2 Cloud Storage!"><meta name=author content><link rel=canonical href=https://blachniet.com/posts/backup-your-kubernetes-cluster-with-velero-and-backblaze/><link crossorigin=anonymous href=/assets/css/stylesheet.63a7205ad45a702d78d847f2bbd9803180ecb2e0245baad3de229bcdee01fc81.css integrity="sha256-Y6cgWtRacC142Efyu9mAMYDssuAkW6rT3iKbze4B/IE=" rel="preload stylesheet" as=style><link rel=icon href=https://blachniet.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blachniet.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blachniet.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blachniet.com/apple-touch-icon.png><link rel=mask-icon href=https://blachniet.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Backup Your Kubernetes Cluster with Velero and Backblaze"><meta property="og:description" content="After finalizing backups from my NAS and household computers to Backblaze&rsquo;s B2 Cloud Storage, I decided it was time to do the same for my Kubernetes cluster. I use the built-in backup utility on my NAS and Restic on my household computers. After a little research, I found that Velero is a solid option for backing up Kubernetes clusters. It supports storage providers that have an AWS S3-compatible API, which includes B2 Cloud Storage!"><meta property="og:type" content="article"><meta property="og:url" content="https://blachniet.com/posts/backup-your-kubernetes-cluster-with-velero-and-backblaze/"><meta property="og:image" content="https://blachniet.com/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-17T14:00:00-05:00"><meta property="article:modified_time" content="2024-02-17T14:00:00-05:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blachniet.com/papermod-cover.png"><meta name=twitter:title content="Backup Your Kubernetes Cluster with Velero and Backblaze"><meta name=twitter:description content="After finalizing backups from my NAS and household computers to Backblaze&rsquo;s B2 Cloud Storage, I decided it was time to do the same for my Kubernetes cluster. I use the built-in backup utility on my NAS and Restic on my household computers. After a little research, I found that Velero is a solid option for backing up Kubernetes clusters. It supports storage providers that have an AWS S3-compatible API, which includes B2 Cloud Storage!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blachniet.com/posts/"},{"@type":"ListItem","position":2,"name":"Backup Your Kubernetes Cluster with Velero and Backblaze","item":"https://blachniet.com/posts/backup-your-kubernetes-cluster-with-velero-and-backblaze/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Backup Your Kubernetes Cluster with Velero and Backblaze","name":"Backup Your Kubernetes Cluster with Velero and Backblaze","description":"After finalizing backups from my NAS and household computers to Backblaze\u0026rsquo;s B2 Cloud Storage, I decided it was time to do the same for my Kubernetes cluster. I use the built-in backup utility on my NAS and Restic on my household computers. After a little research, I found that Velero is a solid option for backing up Kubernetes clusters. It supports storage providers that have an AWS S3-compatible API, which includes B2 Cloud Storage!","keywords":["backblaze","backup","kubernetes","velero"],"articleBody":"After finalizing backups from my NAS and household computers to Backblaze‚Äôs B2 Cloud Storage, I decided it was time to do the same for my Kubernetes cluster. I use the built-in backup utility on my NAS and Restic on my household computers. After a little research, I found that Velero is a solid option for backing up Kubernetes clusters. It supports storage providers that have an AWS S3-compatible API, which includes B2 Cloud Storage!\nIn this post, I‚Äôll walk through a minimal Velero install that saves snapshots to B2 using the aws provider.\nüìù Software versions\nExamples in this post were tested with the following software versions:\nVelero CLI v1.13.0 Velero plugin for AWS v1.8.2 K3s v1.28.6+k3s2 In praise of Backblaze Before we dive in, allow me a moment to express my love for Backblaze. ‚ù§Ô∏èüî•\nI have used Backblaze products since ‚ÄúCrashPlan for Home‚Äù was discontinued. I started off with Backblaze Computer Backup and it paid off when the drive holding all my important documents and photos died.\nIt was a fairly large amount of data, so I took advantage of ‚ÄúRestore by Mail‚Äù which is where Backblaze mails a USB Hard Drive with a snapshot of your backup. A couple days later I had restored all my files on a new NAS and was returning the hard drive! üéâ\nI can‚Äôt give Backblaze enough praise for how smooth the process was to restore my data! It was a welcome relief in a normally stressful situation.\nAlright, with my gushing out of the way, let‚Äôs dive in‚Ä¶\nCreate the bucket and application key To start we will create a bucket and application key in Backblaze. I‚Äôm going to use the web UI, but you may be able to complete some or all of these steps using the Backblaze CLI.\nCreate a B2 Cloud Storage Bucket with the following options. This is where Velero will store backups.\nOption Value Bucket name Files in bucket are Private Default Encryption Disable Object Lock Disable Create an Application Key with access to the bucket. Velero will use these credentials to authenticate with Backblaze.\nOption Value Name of Key Allow access to Bucket(s) Type of Access Read and Write File name prefix blank Duration (seconds) blank Save the Application Key credentials to a file named credentials.txt. We‚Äôll need this file when installing the Velero server components later.\n# credentials.txt [default] aws_access_key_id= aws_secret_access_key= Take note of your bucket‚Äôs ‚ÄúEndpoint‚Äù by viewing the bucket information in B2 Cloud Storage Buckets. It will look something like this: s3.us-west-001.backblazeb2.com. You will need this when installing Velero server components.\nYou will also need the region for your bucket, which is the second part of that endpoint. For example, in s3.us-west-001.backblazeb2.com, the region is us-west-001.\nInstall Velero A basic Velero install involves two components: the CLI and the server. You should install the CLI on the same machine that you generally run kubectl on. Once the CLI is installed, we‚Äôll use it to install the server components in the Kubernetes cluster.\nFollow the instructions in Basic Install to install the CLI.\nNow use the CLI to install and configure the Velero server components in the Kubernetes cluster. Run the following command, replacing \u003c...\u003e with the values from your Backblaze setup.\nvelero install \\ --provider aws \\ --bucket \\ --plugins velero/velero-plugin-for-aws:v1.8.2 \\ --secret-file credentials.txt \\ --backup-location-config region=,s3Url=https:// \\ --snapshot-location-config region= Follow instructions in the output to review the logs and ensure that the install completed successfully.\nBackup and restore Most of your interactions with Velero will happen through the CLI. With it you can get, create, and delete backups and restores.\nLet‚Äôs test out the backup and restore functionality. To do that, we will:\nDeploy nginx. Create a backup with Velero. Delete nginx. Restore the backup with Velero. Confirm nginx was restored. Create an nginx deployment and service.\nkubectl create deployment nginx --image=nginx:latest kubectl expose deployment nginx --port=80 --name=nginx Wait for the deployment to ready and then test it.\n# Wait for the deployment to ready. kubectl rollout status deployment nginx # Make a request. curl http://$(kubectl get svc nginx --output=go-template={{.spec.clusterIP}}) Backup the cluster.\nvelero create backup b01 --wait Delete nginx.\nkubectl delete deployment/nginx service/nginx Restore from our earlier backup.\nvelero create restore --from-backup=b01 --wait Wait for the deployment to ready and then test it.\n# Wait for the deployment to ready. kubectl rollout status deployment nginx # Make a request. curl http://$(kubectl get svc nginx --output=go-template={{.spec.clusterIP}}) You should get a successful response from your curl request, indicating that you successfully restored your Kubernetes resources!\n","wordCount":"758","inLanguage":"en","datePublished":"2024-02-17T14:00:00-05:00","dateModified":"2024-02-17T14:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blachniet.com/posts/backup-your-kubernetes-cluster-with-velero-and-backblaze/"},"publisher":{"@type":"Organization","name":"Brian Lachniet","logo":{"@type":"ImageObject","url":"https://blachniet.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blachniet.com/ accesskey=h title="Brian Lachniet (Alt + H)">Brian Lachniet</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blachniet.com/archives title=Archive><span>Archive</span></a></li><li><a href=https://blachniet.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://blachniet.com/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Backup Your Kubernetes Cluster with Velero and Backblaze</h1><div class=post-meta><span title='2024-02-17 14:00:00 -0500 -0500'>February 17, 2024</span>&nbsp;|&nbsp;<a href=https://github.com/blachniet/blachniet.github.io/edit/master/content/posts/backup-your-kubernetes-cluster-with-velero-and-backblaze/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>After finalizing backups from my NAS and household computers to Backblaze&rsquo;s B2 Cloud Storage, I decided it was time to do the same for my Kubernetes cluster. I use the built-in backup utility on my NAS and <a href=https://restic.readthedocs.io/en/stable/>Restic</a> on my household computers. After a little research, I found that <a href=https://velero.io/>Velero</a> is a solid option for backing up Kubernetes clusters. It supports storage providers that have an AWS S3-compatible API, which includes <a href=https://www.backblaze.com/docs/cloud-storage-s3-compatible-api>B2 Cloud Storage</a>!</p><p>In this post, I&rsquo;ll walk through a minimal Velero install that saves snapshots to B2 using the <code>aws</code> provider.</p><blockquote><p><strong>üìù Software versions</strong></p><p>Examples in this post were tested with the following software versions:</p><ul><li>Velero CLI v1.13.0</li><li>Velero plugin for AWS v1.8.2</li><li>K3s v1.28.6+k3s2</li></ul></blockquote><h2 id=in-praise-of-backblaze>In praise of Backblaze<a hidden class=anchor aria-hidden=true href=#in-praise-of-backblaze>#</a></h2><p>Before we dive in, allow me a moment to express my love for <a href=https://www.backblaze.com/>Backblaze</a>. ‚ù§Ô∏èüî•</p><p>I have used Backblaze products since &ldquo;CrashPlan for Home&rdquo; was discontinued. I started off with Backblaze Computer Backup and it paid off when the drive holding all my important documents and photos died.</p><p>It was a fairly large amount of data, so I took advantage of &ldquo;Restore by Mail&rdquo; which is where Backblaze mails a USB Hard Drive with a snapshot of your backup. A couple days later I had restored all my files on a new NAS and was returning the hard drive! üéâ</p><p>I can&rsquo;t give Backblaze enough praise for how smooth the process was to restore my data! It was a welcome relief in a normally stressful situation.</p><p>Alright, with my gushing out of the way, let&rsquo;s dive in&mldr;</p><h2 id=create-the-bucket-and-application-key>Create the bucket and application key<a hidden class=anchor aria-hidden=true href=#create-the-bucket-and-application-key>#</a></h2><p>To start we will create a bucket and application key in Backblaze. I&rsquo;m going to use the web UI, but you may be able to complete some or all of these steps using the <a href=https://www.backblaze.com/docs/cloud-storage-command-line-tools>Backblaze CLI</a>.</p><p>Create a <a href=https://secure.backblaze.com/b2_buckets.htm>B2 Cloud Storage Bucket</a> with the following options. This is where Velero will store backups.</p><table><thead><tr><th>Option</th><th>Value</th></tr></thead><tbody><tr><td>Bucket name</td><td><code>&lt;my-bucket-name></code></td></tr><tr><td>Files in bucket are</td><td>Private</td></tr><tr><td>Default Encryption</td><td>Disable</td></tr><tr><td>Object Lock</td><td>Disable</td></tr></tbody></table><p><img loading=lazy src=create-bucket.png alt="Dialog to create a Backblaze B2 bucket"></p><p>Create an <a href=https://secure.backblaze.com/app_keys.htm>Application Key</a> with access to the bucket. Velero will use these credentials to authenticate with Backblaze.</p><table><thead><tr><th>Option</th><th>Value</th></tr></thead><tbody><tr><td>Name of Key</td><td><code>&lt;my-app-name></code></td></tr><tr><td>Allow access to Bucket(s)</td><td><code>&lt;my-bucket-name></code></td></tr><tr><td>Type of Access</td><td>Read and Write</td></tr><tr><td>File name prefix</td><td><em>blank</em></td></tr><tr><td>Duration (seconds)</td><td><em>blank</em></td></tr></tbody></table><p><img loading=lazy src=add-app-key.png alt="Dialog to add a Backblaze B2 application key"></p><p>Save the Application Key credentials to a file named <code>credentials.txt</code>. We&rsquo;ll need this file when installing the Velero server components later.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># credentials.txt</span>
</span></span><span class=line><span class=cl><span class=k>[default]</span>
</span></span><span class=line><span class=cl><span class=na>aws_access_key_id</span><span class=o>=</span><span class=s>&lt;b2_keyID&gt;</span>
</span></span><span class=line><span class=cl><span class=na>aws_secret_access_key</span><span class=o>=</span><span class=s>&lt;b2_applicationKey&gt;</span>
</span></span></code></pre></div><p>Take note of your bucket&rsquo;s &ldquo;Endpoint&rdquo; by viewing the bucket information in <a href=https://secure.backblaze.com/b2_buckets.htm>B2 Cloud Storage Buckets</a>. It will look something like this: <code>s3.us-west-001.backblazeb2.com</code>. You will need this when installing Velero server components.</p><p><img loading=lazy src=view-bucket-hl.png alt="Backblaze B2 bucket information with the endpoint highlighted"></p><p>You will also need the region for your bucket, which is the second part of that endpoint. For example, in <code>s3.us-west-001.backblazeb2.com</code>, the region is <code>us-west-001</code>.</p><h2 id=install-velero>Install Velero<a hidden class=anchor aria-hidden=true href=#install-velero>#</a></h2><p>A basic Velero install involves two components: the CLI and the server. You should install the CLI on the same machine that you generally run <code>kubectl</code> on. Once the CLI is installed, we&rsquo;ll use it to install the server components in the Kubernetes cluster.</p><p>Follow the instructions in <a href=https://velero.io/docs/v1.13/basic-install/>Basic Install</a> to install the CLI.</p><p>Now use the CLI to install and configure the Velero server components in the Kubernetes cluster. Run the following command, replacing <code>&lt;...></code> with the values from your Backblaze setup.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>velero install <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --provider aws <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --bucket &lt;my-bucket-name&gt; <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --plugins velero/velero-plugin-for-aws:v1.8.2 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --secret-file credentials.txt <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --backup-location-config <span class=nv>region</span><span class=o>=</span>&lt;my-bucket-region&gt;,s3Url<span class=o>=</span>https://&lt;my-bucket-endpoint&gt; <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --snapshot-location-config <span class=nv>region</span><span class=o>=</span>&lt;my-bucket-region&gt;
</span></span></code></pre></div><p>Follow instructions in the output to review the logs and ensure that the install completed successfully.</p><h2 id=backup-and-restore>Backup and restore<a hidden class=anchor aria-hidden=true href=#backup-and-restore>#</a></h2><p>Most of your interactions with Velero will happen through the CLI. With it you can get, create, and delete backups and restores.</p><p>Let&rsquo;s test out the backup and restore functionality. To do that, we will:</p><ol><li>Deploy nginx.</li><li>Create a backup with Velero.</li><li>Delete nginx.</li><li>Restore the backup with Velero.</li><li>Confirm nginx was restored.</li></ol><p>Create an nginx deployment and service.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>kubectl create deployment nginx --image<span class=o>=</span>nginx:latest
</span></span><span class=line><span class=cl>kubectl expose deployment nginx --port<span class=o>=</span><span class=m>80</span> --name<span class=o>=</span>nginx
</span></span></code></pre></div><p>Wait for the deployment to ready and then test it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Wait for the deployment to ready.</span>
</span></span><span class=line><span class=cl>kubectl rollout status deployment nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Make a request.</span>
</span></span><span class=line><span class=cl>curl http://<span class=k>$(</span>kubectl get svc nginx --output<span class=o>=</span>go-template<span class=o>={{</span>.spec.clusterIP<span class=o>}}</span><span class=k>)</span>
</span></span></code></pre></div><p>Backup the cluster.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>velero create backup b01 --wait
</span></span></code></pre></div><p>Delete nginx.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>kubectl delete deployment/nginx service/nginx
</span></span></code></pre></div><p>Restore from our earlier backup.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>velero create restore --from-backup<span class=o>=</span>b01 --wait
</span></span></code></pre></div><p>Wait for the deployment to ready and then test it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Wait for the deployment to ready.</span>
</span></span><span class=line><span class=cl>kubectl rollout status deployment nginx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Make a request.</span>
</span></span><span class=line><span class=cl>curl http://<span class=k>$(</span>kubectl get svc nginx --output<span class=o>=</span>go-template<span class=o>={{</span>.spec.clusterIP<span class=o>}}</span><span class=k>)</span>
</span></span></code></pre></div><p>You should get a successful response from your <code>curl</code> request, indicating that you successfully restored your Kubernetes resources!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blachniet.com/tags/backblaze/>backblaze</a></li><li><a href=https://blachniet.com/tags/backup/>backup</a></li><li><a href=https://blachniet.com/tags/kubernetes/>kubernetes</a></li><li><a href=https://blachniet.com/tags/velero/>velero</a></li></ul><nav class=paginav><a class=next href=https://blachniet.com/posts/create-a-minimal-local-debian-vm-with-qemu/><span class=title>Next ¬ª</span><br><span>Create a minimal, local Debian VM with QEMU</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on x" href="https://x.com/intent/tweet/?text=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze&amp;url=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f&amp;hashtags=backblaze%2cbackup%2ckubernetes%2cvelero"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f&amp;title=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze&amp;summary=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze&amp;source=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f&title=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on whatsapp" href="https://api.whatsapp.com/send?text=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze%20-%20https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on telegram" href="https://telegram.me/share/url?text=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze&amp;url=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Backup Your Kubernetes Cluster with Velero and Backblaze on ycombinator" href="https://news.ycombinator.com/submitlink?t=Backup%20Your%20Kubernetes%20Cluster%20with%20Velero%20and%20Backblaze&u=https%3a%2f%2fblachniet.com%2fposts%2fbackup-your-kubernetes-cluster-with-velero-and-backblaze%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blachniet.com/>Brian Lachniet</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>